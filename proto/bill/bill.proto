syntax = "proto3";

package bill;

message Balance {
    int32 UserID = 1;
    int64 Amount = 2;
    int64 Gold = 3;
    int64 Diamond = 4;
    int64 Deposit = 5;
    int64 Freeze = 6;
    int64 GoldProfit = 7;
    int64 DiamondProfit = 8;
    int64 CreatedAt = 9;
    int64 UpdatedAt = 10;
    int64 CumulativeRecharge    =11;
    int64 CumulativeGift       =12;
    int64 CumulativeConsumption=13;
}

message GetBalanceRequest {
    int32 UserID = 1;
    string Username = 2;
}

message RechargeRequest {
    int32 UserID = 1;
    int64 Diamond = 2;
    string OrderID = 3;
    string Channel = 4;
}

message RechargeReply {
    int32 Result = 1;
    int32 Code = 2;
}

message BalanceChange{
    int32 UserID = 1;
    int64 Diamond = 2;
}

service BillSrv {
    rpc GetBalance(GetBalanceRequest) returns (Balance) {}
    rpc GainBalance(Balance) returns (Balance) {}
    rpc Recharge(RechargeRequest) returns(RechargeReply) {}
}
